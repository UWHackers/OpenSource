<link rel="import" href="../polymer/polymer.html">

<!--
Make a fun, interactive Miley. [**Live demo**](../x-miley/demo.html)

<iframe src="http://ghbtns.com/github-btn.html?user=karan&repo=x-miley&type=watch&count=true&size=large" allowtransparency="true" frameborder="0" scrolling="0" width="170" height="30"></iframe>

##### Example

    <x-miley></x-miley>

@element x-miley
@blurb Make a fun, interactive Miley.
@status alpha
@homepage karan.github.io/x-miley
-->
<polymer-element name="x-miley" attributes="width height">

  <template>

    <img id="mileyImg" src="https://s1.yimg.com/bt/api/res/1.2/ot5iQRMnAk0a9QoZqwJUuw--/YXBwaWQ9eW5ld3M7Zmk9ZmlsbDtoPTMxMDtxPTc1O3NtPTE7dz0zMTA-/http://media.zenfs.com/289/2011/08/02/MileyCyrus_071025.jpg" on-click="{{clickHandler}}" width="{{width}}" height="{{height}}">
    <audio src="https://api.soundcloud.com/tracks/121890666/stream?consumer_key=apigee" id="audio"></audio>
  </template>

  <script>

    Polymer('x-miley', {
      animated: false,
      width: "200px",
      height: "200px",

      clickHandler: function() {
        if (!this.animated) {
          this.$.mileyImg.src = "http://content.animalnewyork.com/wp-content/uploads/small-animated-gif-twerking-buzzfeed-miley.gif";
          this.$.audio.play();
          this.$.audio.currentTime = 88;
        } else {
          this.$.mileyImg.src = "https://s1.yimg.com/bt/api/res/1.2/ot5iQRMnAk0a9QoZqwJUuw--/YXBwaWQ9eW5ld3M7Zmk9ZmlsbDtoPTMxMDtxPTc1O3NtPTE7dz0zMTA-/http://media.zenfs.com/289/2011/08/02/MileyCyrus_071025.jpg";
          this.$.audio.pause();
        }
        this.animated = !this.animated;
      }

    });

  </script>

</polymer-element>
